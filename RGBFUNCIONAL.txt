#include p16f887.inc

; CONFIG1
; __config 0x28D5
 __CONFIG _CONFIG1, _FOSC_INTRC_CLKOUT & _WDTE_OFF & _PWRTE_OFF & _MCLRE_OFF & _CP_OFF & _CPD_OFF & _BOREN_OFF & _IESO_OFF & _FCMEN_ON & _LVP_OFF
; CONFIG2
; __config 0x3FFF
 __CONFIG _CONFIG2, _BOR4V_BOR40V & _WRT_OFF

    
    LIST p=16F887
    
N EQU 0xb0
cont1 EQU 0x20 
cont2 EQU 0x21 
CHIGH EQU 128
CLOW	EQU 64
VARI	EQU 0x22

    ORG	0x00
    GOTO INICIO
    
INICIO
    BCF STATUS,RP0   ;RP0 = 0
    BCF STATUS,RP1  ;RP1 = 0
    CLRF PORTE ;PORT SECUENCIA LED
    ;MOVLW E'0000000'  ;
    BSF STATUS, RP0 ;RP0 = 1
    CLRF TRISE ;SECUENCIA SALIDA
    BSF STATUS,RP1
    CLRF ANSEL
    BCF STATUS,RP0  ;BANK O RP1=0 RP0=0
    BCF STATUS,RP1
    MOVLW 0x11 
    MOVWF OSCCON


ARRANQUE
    
    BCF STATUS,C
    CLRF VARI
    GOTO INCREMENTADOR
    
INCREMENTADOR
    INCF VARI,1
    GOTO PRIMERIF

PRIMERIF
    BTFSC VARI,7
    goto FINALIF
    BTFSC VARI,6
    goto SEGUNDOIF
    BCF PORTE,1
    BCF PORTE,2
    BSF PORTE,0
    CALL RETARDO
    GOTO INCREMENTADOR
    
SEGUNDOIF
    BCF PORTE,1
    BCF PORTE,0
    BSF PORTE,2
    CALL RETARDO
    GOTO INCREMENTADOR
    
FINALIF
    
    BCF PORTE,0
    BCF PORTE,2
    BSF PORTE,1
    CALL RETARDO
    GOTO INCREMENTADOR
    
    
    
RETARDO
    MOVLW N
    MOVWF cont1
    
REP_1
    MOVLW N
    MOVWF cont2
    
REP_2
    DECFSZ cont2,1
    GOTO REP_2
    DECFSZ cont1,1
    GOTO REP_1
    RETURN
    
    END
